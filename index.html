<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Programming Hours</title>

        <link
            rel="stylesheet"
            href="https://www.w3schools.com/w3css/4/w3.css"
        />

        <link 
            rel="icon" 
            href="icon.png" 
            type="image/png"/>
    </head>
    <body>
        <div class="main">
            <div class="displayer">
                <h4>Hours Programming has received the Robot</h4>
                <p>
                    Throughout the history of Talon540, the programming subgroup
                    never receives the robot. This website tracks how long the
                    programming subgroup has recived the robot during the build
                    season.
                </p>
                <div class="hours-container">
                    <div class="hour-count">
                        <h4 id="hours-counts">
                            Programming has Received: 0 Hours
                        </h4>
                    </div>
                    <div class="progress-bar-container">
                        <div class="w3-light-grey">
                            <div
                                id="progress-bar"
                                class="w3-container w3-center"
                                style="width: 0%"
                            ></div>
                        </div>
                        <br />
                    </div>
                </div>
                <div>
                    <hr/>
                    <img src="askingForBot.png" alt="programming meme"/>
                </div>
                <div>
                    <hr />
                    <h3>Additional Information:</h3>
                    <div class="stats">
                        <div class="stats-item">
                            <p>Weeks Till First Comp:</p>
                            <p id="time-left-weeks"></p>
                        </div>
                        <div class="stats-item">
                            <p>Days Till First Comp:</p>
                            <p id="time-left-days"></p>
                        </div>
                        <div class="stats-item">
                            <p>Hours Till First Comp:</p>
                            <p id="time-left-hours"></p>
                        </div>
                        <div class="stats-item">
                            <p>Minutes Till First Comp:</p>
                            <p id="time-left-minutes"></p>
                        </div>
                        <div class="stats-item">
                            <p>Seconds Till First Comp:</p>
                            <p id="time-left-seconds"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>

<style>
    body {
        margin: 0;
        padding: 0;
        font-family: Arial, Helvetica, sans-serif;
        text-align: center !important;
        background-color: #1d1f20;
        color: white !important;
    }
    .main {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        padding: 10px;
    }
    .displayer {
        height: 800px;
        width: 500px;
    }
    .hours-container {
        padding-top: 12px;
    }

    #progress-bar {
        display: flex;
        justify-content: center;
        background-color: red;
        color: white;
    }
    .stats {
        display: flex;
        flex-direction: column;
    }
    .stats-item {
        display: flex;
        justify-content: space-between;
    }
</style>

<noscript>
    Your browser doesnt support Javscript, enable that, are you old?
</noscript>

<script>
    const hoursRecived = 0.25;

    const hoursElem = document.getElementById("hours-counts");
    hoursElem.innerText = `Programming has recived: ${hoursRecived} Hours`;

    const progressBar = document.getElementById("progress-bar");
    const progress = `${Math.round((hoursRecived / 20) * 100)}%`;

    progressBar.innerHTML = progress;
    progressBar.style.width = progress;

    // Month is 0 indexed
    const firstCompDate = new Date(2023, 2, 3);

    const updateTimes = () => {
        const delta = firstCompDate.getTime() - new Date().getTime();

        document.getElementById("time-left-weeks").innerText = `${(
            delta / 6.048e8
        ).toFixed(2)} Weeks`;
        document.getElementById("time-left-days").innerText = `${(
            delta / 8.64e7
        ).toFixed(2)} Days`;
        document.getElementById("time-left-hours").innerText = `${(
            delta / 3.6e6
        ).toFixed(2)} Hours`;
        document.getElementById("time-left-minutes").innerText = `${(
            delta / 60000
        ).toFixed(0)} Minutes`;
        document.getElementById("time-left-seconds").innerText = `${(
            delta / 1000
        ).toFixed(0)} Seconds`;

        setInterval(updateTimes, 1000);
    };

    updateTimes();
</script>
